<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Ø§Ø¨Ø¯Ø£ Ø§Ù„Ø¢Ù† - Ù…Ù†ØµØ© Ø§Ù„ØªØ§Ø¬Ø± Ø§Ù„Ø°ÙƒÙŠØ©</title>

  <style>
    :root{
      --brand:#0f4c81;
      --brand-dark:#0b3a63;
      --bg:#f5f7fa;
      --card:#ffffff;
      --text:#111827;
      --muted:#6b7280;
      --line:#e5e7eb;
      --ok:#16a34a;
      --bad:#b42318;
    }
    *{box-sizing:border-box}
    body{margin:0;font-family:Arial,system-ui,-apple-system,Segoe UI;background:var(--bg);color:var(--text)}
    header{background:var(--brand);color:#fff;padding:22px 16px;text-align:center}
    nav{background:var(--brand-dark);display:flex;gap:10px;justify-content:center;padding:10px 12px;flex-wrap:wrap}
    nav a{color:#fff;text-decoration:none;padding:8px 12px;border-radius:8px;opacity:.95}
    nav a:hover{background:rgba(255,255,255,.12)}
    main{max-width:980px;margin:20px auto;padding:0 14px}
    .card{background:var(--card);border-radius:16px;padding:20px;box-shadow:0 6px 18px rgba(0,0,0,.08)}
    h2{margin-top:0}
    label{display:block;margin:10px 0 6px;font-weight:700}
    input,select{width:100%;padding:12px;border-radius:10px;border:1px solid var(--line);font-size:16px}
    .row{display:grid;gap:12px;grid-template-columns:1fr}
    @media(min-width:820px){ .row{grid-template-columns:1fr 1fr} }
    .btn{
      margin-top:14px;background:var(--brand);color:#fff;padding:14px;border-radius:12px;border:none;
      width:100%;font-size:17px;font-weight:800;cursor:pointer
    }
    .btn:disabled{opacity:.65;cursor:not-allowed}
    .muted{color:var(--muted);font-size:14px;line-height:1.8}
    .trust{
      margin-top:12px;padding-top:12px;border-top:1px dashed var(--line);
      font-size:13px;color:var(--muted)
    }
    .msg{
      margin-top:12px;padding:12px;border-radius:12px;display:none;font-weight:800
    }
    .msg.ok{background:#e8f7ef;color:var(--ok);border:1px solid #b7e2c9}
    .msg.bad{background:#fff1f0;color:var(--bad);border:1px solid #ffd1cc}
    footer{margin-top:18px;text-align:center;padding:14px;color:var(--muted)}
    .wa-float{
      position:fixed;bottom:18px;left:18px;z-index:9999;background:#25D366;color:#fff;padding:12px 16px;
      border-radius:999px;text-decoration:none;font-weight:800;box-shadow:0 8px 22px rgba(0,0,0,.18)
    }
  </style>
</head>

<body>

<header>
  <h1 style="margin:0">Ø§Ø¨Ø¯Ø£ Ø§Ù„Ø¢Ù†</h1>
  <p style="margin:6px 0 0;opacity:.95">
    Ø³Ø¬Ù‘Ù„ Ø¨ÙŠØ§Ù†Ø§ØªÙƒØŒ ÙˆØ³ÙŠØªÙ… Ø­ÙØ¸Ù‡Ø§ ÙÙŠ Ø§Ù„Ù†Ø¸Ø§Ù… Ø«Ù… Ù†ÙƒÙ…Ù„ Ù…Ø¹Ùƒ Ø¹Ø¨Ø± ÙˆØ§ØªØ³Ø§Ø¨
  </p>
</header>

<nav>
  <a href="index.html">Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</a>
  <a href="pricing.html">Ø§Ù„Ø¨Ø§Ù‚Ø§Øª</a>
  <a href="signup.html">Ø§Ø¨Ø¯Ø£ Ø§Ù„Ø¢Ù†</a>
  <a href="contact.html">ØªÙˆØ§ØµÙ„</a>
  <a href="privacy.html">Ø§Ù„Ø®ØµÙˆØµÙŠØ©</a>
</nav>

<main>
  <section class="card">
    <h2>Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù†Ø´Ø§Ø· Ø§Ù„ØªØ¬Ø§Ø±ÙŠ</h2>
    <p class="muted">
      Ø§Ù„ØªØ³Ø¬ÙŠÙ„ Ø³Ø±ÙŠØ¹ ÙˆÙ„Ø§ ÙŠØªØ·Ù„Ø¨ Ø£ÙŠ Ø§Ù„ØªØ²Ø§Ù…. Ø¨Ø¹Ø¯ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„ Ø³ÙŠØªÙ… ÙØªØ­ ÙˆØ§ØªØ³Ø§Ø¨ Ù„ØªÙØ¹ÙŠÙ„ Ø§Ù„Ø®Ø¯Ù…Ø©.
    </p>

    <div class="row">
      <div>
        <label>Ø§Ø³Ù… Ø§Ù„Ù†Ø´Ø§Ø· Ø§Ù„ØªØ¬Ø§Ø±ÙŠ *</label>
        <input id="business_name" placeholder="Ù…Ø«Ø§Ù„: Ø±ÙƒÙ† Ø§Ù„ÙØ®Ø§Ù…Ø© Ù„Ù„Ø¯ÙŠÙƒÙˆØ±" />
      </div>

      <div>
        <label>Ù†ÙˆØ¹ Ø§Ù„Ù†Ø´Ø§Ø·</label>
        <select id="business_type">
          <option value="">Ø§Ø®ØªØ± Ø§Ù„Ù†ÙˆØ¹</option>
          <option value="Ø£Ø«Ø§Ø«">Ø£Ø«Ø§Ø«</option>
          <option value="Ù…Ø·Ø¹Ù… / ÙƒÙˆÙÙŠ">Ù…Ø·Ø¹Ù… / ÙƒÙˆÙÙŠ</option>
          <option value="Ù…ØºØ³Ù„Ø© / ØµØ§Ù„ÙˆÙ†">Ù…ØºØ³Ù„Ø© / ØµØ§Ù„ÙˆÙ†</option>
          <option value="Ø³ÙˆØ¨Ø±Ù…Ø§Ø±ÙƒØª">Ø³ÙˆØ¨Ø±Ù…Ø§Ø±ÙƒØª</option>
          <option value="Ø¹Ù‚Ø§Ø±Ø§Øª">Ø¹Ù‚Ø§Ø±Ø§Øª</option>
          <option value="Ø£Ø®Ø±Ù‰">Ø£Ø®Ø±Ù‰</option>
        </select>
      </div>

      <div>
        <label>Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©</label>
        <input id="city" placeholder="Ù…Ø«Ø§Ù„: Ø§Ù„Ø±ÙŠØ§Ø¶ / Ø¬Ø¯Ø©" />
      </div>

      <div>
        <label>Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ *</label>
        <input id="email" type="email" placeholder="example@email.com" />
      </div>

      <div>
        <label>Ø±Ù‚Ù… Ø§Ù„ÙˆØ§ØªØ³Ø§Ø¨ *</label>
        <input id="whatsapp" placeholder="05xxxxxxxx Ø£Ùˆ +9665xxxxxxxx" />
      </div>
    </div>

    <button id="btnSubmit" class="btn" onclick="submitSignup()">
      ØªØ³Ø¬ÙŠÙ„ ÙˆÙØªØ­ ÙˆØ§ØªØ³Ø§Ø¨ Ù„Ù„ØªÙØ¹ÙŠÙ„
    </button>

    <div id="signupMsg" class="msg"></div>

    <!-- Ù„Ù…Ø³Ø© Ø§Ù„Ø«Ù‚Ø© -->
    <div class="trust">
      Ø¨Ø§Ù„Ø¶ØºØ· Ø¹Ù„Ù‰ Ø²Ø± Ø§Ù„ØªØ³Ø¬ÙŠÙ„ Ø£Ù†Øª ØªÙˆØ§ÙÙ‚ Ø¹Ù„Ù‰
      <a href="privacy.html" target="_blank">Ø³ÙŠØ§Ø³Ø© Ø§Ù„Ø®ØµÙˆØµÙŠØ©</a>ØŒ
      ÙˆÙ†Ø¤ÙƒØ¯ Ø£Ù† Ø¨ÙŠØ§Ù†Ø§ØªÙƒ ØªÙØ³ØªØ®Ø¯Ù… ÙÙ‚Ø· Ù„ØºØ±Ø¶ ØªÙ‚Ø¯ÙŠÙ… Ø§Ù„Ø®Ø¯Ù…Ø©.
    </div>
  </section>
</main>

<footer>Â© 2026 SaaS Merchant Platform</footer>

<a class="wa-float"
   href="https://wa.me/966565652570"
   target="_blank">ÙˆØ§ØªØ³Ø§Ø¨</a>

<!-- Supabase -->
<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>

<script>
  const SUPABASE_URL = "https://udsqvnvjktggdtzpoyts.supabase.co";
  const SUPABASE_ANON_KEY = "sb_publishable_myAYYiVNUfEUfkFfnFsbNw_aa5F8mjV";

  const supabase = window.supabase.createClient(SUPABASE_URL, SUPABASE_ANON_KEY);
  const OWNER_WA = "966565652570";

  function showMsg(type, text){
    const box = document.getElementById("signupMsg");
    box.className = "msg " + type;
    box.style.display = "block";
    box.textContent = text;
  }

  function isValidEmail(email){
    return /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email);
  }

  function normalizeWhatsApp(v){
    v = (v || "").replace(/[\s-]/g,"");
    if(v.startsWith("05")) return "+966" + v.slice(1);
    if(v.startsWith("5")) return "+966" + v;
    if(v.startsWith("966")) return "+" + v;
    return v;
  }

  async function submitSignup(){
    const btn = document.getElementById("btnSubmit");
    btn.disabled = true;

    const business_name = document.getElementById("business_name").value.trim();
    const business_type = document.getElementById("business_type").value || null;
    const city = document.getElementById("city").value || null;
    const email = document.getElementById("email").value.trim().toLowerCase();
    const whatsapp = normalizeWhatsApp(document.getElementById("whatsapp").value);

    if(!business_name){
      showMsg("bad","ÙØ¶Ù„Ø§Ù‹ Ø§ÙƒØªØ¨ Ø§Ø³Ù… Ø§Ù„Ù†Ø´Ø§Ø·");
      btn.disabled = false; return;
    }
    if(!isValidEmail(email)){
      showMsg("bad","ÙØ¶Ù„Ø§Ù‹ Ø§ÙƒØªØ¨ Ø¨Ø±ÙŠØ¯ Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ ØµØ­ÙŠØ­");
      btn.disabled = false; return;
    }
    if(!whatsapp){
      showMsg("bad","ÙØ¶Ù„Ø§Ù‹ Ø§ÙƒØªØ¨ Ø±Ù‚Ù… ÙˆØ§ØªØ³Ø§Ø¨ ØµØ­ÙŠØ­");
      btn.disabled = false; return;
    }

    showMsg("ok","Ø¬Ø§Ø±ÙŠ ØªØ³Ø¬ÙŠÙ„ Ø¨ÙŠØ§Ù†Ø§ØªÙƒ...");

    const { error } = await supabase
      .from("merchants")
      .insert([{ business_name, business_type, city, email, whatsapp }]);

    if(error){
      console.error(error);
      showMsg("bad","Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø§Ù„ØªØ³Ø¬ÙŠÙ„ØŒ ÙØ¶Ù„Ø§Ù‹ Ø­Ø§ÙˆÙ„ Ù„Ø§Ø­Ù‚Ù‹Ø§");
      btn.disabled = false;
      return;
    }

    showMsg("ok","âœ… ØªÙ… Ø§Ù„ØªØ³Ø¬ÙŠÙ„ Ø¨Ù†Ø¬Ø§Ø­! Ø³ÙŠØªÙ… ÙØªØ­ ÙˆØ§ØªØ³Ø§Ø¨ Ø§Ù„Ø¢Ù†.");

    const msg =
      "Ø­ÙŠØ§Ùƒ Ø§Ù„Ù„Ù‡ ğŸ‘‹\n" +
      "ØªÙ… Ø§Ù„ØªØ³Ø¬ÙŠÙ„ ÙÙŠ Ù…Ù†ØµØ© Ø§Ù„ØªØ§Ø¬Ø± Ø§Ù„Ø°ÙƒÙŠØ©.\n\n" +
      "Ø§Ø³Ù… Ø§Ù„Ù†Ø´Ø§Ø·: " + business_name + "\n" +
      (business_type ? "Ù†ÙˆØ¹ Ø§Ù„Ù†Ø´Ø§Ø·: " + business_type + "\n" : "") +
      (city ? "Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©: " + city + "\n" : "") +
      "Ø§Ù„Ø¥ÙŠÙ…ÙŠÙ„: " + email + "\n" +
      "ÙˆØ§ØªØ³Ø§Ø¨: " + whatsapp;

    setTimeout(()=>{
      window.open(
        "https://wa.me/" + OWNER_WA + "?text=" + encodeURIComponent(msg),
        "_blank"
      );
    },700);

    btn.disabled = false;
  }
</script>

</body>
</html>
